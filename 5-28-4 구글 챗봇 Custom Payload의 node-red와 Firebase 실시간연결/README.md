# 구글 챗봇 Custom Payload의 node-red와 Firebase 실시간연결
쳇봇과 DialogFlow에서 입력이 들어와 Firebase에서 값이 변하면 실시간으로 node-red와 연동하여 Led로 표시한다.
node red 소스 프로그램
```
[{"id":"9adb7cc5.b83f5","type":"firebase.on","z":"8e23c2b8.92c2b","name":"","firebaseconfig":"","childpath":"/data","atStart":true,"eventType":"value","queries":[],"x":330,"y":180,"wires":[["ea745d63.de72"]]},{"id":"ea745d63.de72","type":"switch","z":"8e23c2b8.92c2b","name":"","property":"payload.name","propertyType":"msg","rules":[{"t":"eq","v":"안방","vt":"str"},{"t":"eq","v":"주방","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":180,"wires":[["63976c7e.0a6cf4"],["c912d482.1a3008"]]},{"id":"63976c7e.0a6cf4","type":"function","z":"8e23c2b8.92c2b","name":"","func":"msg.payload=msg.payload.on;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":760,"y":160,"wires":[["ecc41e35.d4d4c"]]},{"id":"c912d482.1a3008","type":"function","z":"8e23c2b8.92c2b","name":"","func":"msg.payload=msg.payload.on;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":760,"y":200,"wires":[["b7541d88.0d7de"]]},{"id":"ecc41e35.d4d4c","type":"ui_led","z":"8e23c2b8.92c2b","order":0,"group":"e088a523a4619a18","width":0,"height":0,"label":"안방","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"#04ff00","value":"1","valueType":"num"},{"color":"#d0d7d0","value":"0","valueType":"num"}],"allowColorForValueInMessage":false,"shape":"circle","showGlow":true,"name":"","x":890,"y":160,"wires":[]},{"id":"b7541d88.0d7de","type":"ui_led","z":"8e23c2b8.92c2b","order":0,"group":"e088a523a4619a18","width":0,"height":0,"label":"주방","labelPlacement":"left","labelAlignment":"left","colorForValue":[{"color":"#04ff00","value":"1","valueType":"num"},{"color":"#d0d7d0","value":"0","valueType":"num"}],"allowColorForValueInMessage":false,"shape":"circle","showGlow":true,"name":"","x":890,"y":200,"wires":[]},{"id":"e088a523a4619a18","type":"ui_group","name":"Group 1","tab":"2be4bae4ad8203fd","order":1,"disp":true,"width":6},{"id":"2be4bae4ad8203fd","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]
```

김동일교수 유튜브 목차 : http://i2r.link
